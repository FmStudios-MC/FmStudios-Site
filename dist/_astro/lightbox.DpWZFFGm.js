let o=null,e=null,d=null,a=null,y=null,u=null,i=[],n=0,s=null;function r(t){!e||t<0||t>=i.length||(n=t,e.style.opacity="0",e.src=i[t].src,e.alt=i[t].alt,e.onload=()=>{e.style.opacity="1"},e.complete&&(e.style.opacity="1"),u&&(u.textContent=`${t+1} of ${i.length}`),d&&(d.style.display=t===0?"none":""),a&&(a.style.display=t===i.length-1?"none":""))}function g(){o&&(o.classList.add("hidden"),document.body.style.overflow="",s?.abort(),s=null)}function f(t,m=0){if(o=document.getElementById("lightbox-modal"),e=document.getElementById("lightbox-img"),d=document.getElementById("lightbox-prev"),a=document.getElementById("lightbox-next"),y=document.getElementById("lightbox-close"),u=document.getElementById("lightbox-counter"),!o||!e)return;i=t,o.classList.remove("hidden"),document.body.style.overflow="hidden",r(m),s?.abort(),s=new AbortController;const c=s.signal;o.addEventListener("click",l=>{l.target===o&&g()},{signal:c}),y?.addEventListener("click",g,{signal:c}),d?.addEventListener("click",l=>{l.stopPropagation(),n>0&&r(n-1)},{signal:c}),a?.addEventListener("click",l=>{l.stopPropagation(),n<i.length-1&&r(n+1)},{signal:c}),document.addEventListener("keydown",l=>{!o||o.classList.contains("hidden")||(l.key==="Escape"&&g(),l.key==="ArrowLeft"&&n>0&&r(n-1),l.key==="ArrowRight"&&n<i.length-1&&r(n+1))},{signal:c})}export{f as o};
