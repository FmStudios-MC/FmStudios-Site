function m(o){return new URLSearchParams(window.location.search).get(o)||""}function g(o){const n=new URLSearchParams(window.location.search);for(const[e,t]of Object.entries(o))t&&t!=="all"?n.set(e,t):n.delete(e);const l=n.toString(),r=window.location.pathname+(l?"?"+l:"");history.replaceState(null,"",r)}function B(){const o=document.getElementById("search-input"),n=document.querySelectorAll(".category-filter-btn"),l=document.querySelectorAll(".modpack-filter-btn"),r=document.getElementById("modpack-filter"),e=document.querySelectorAll(".project-card"),t=document.getElementById("results-count"),c=document.getElementById("no-results");let a=m("category")||"all",d=m("modpack")||"all",f=m("q")||"";o&&f&&(o.value=f),n.forEach(s=>{const i=s.dataset.filter||"all";s.classList.toggle("active",i===a)}),r&&(r.style.display=a==="modpacks"?"":"none"),l.forEach(s=>{const i=s.dataset.filter||"all";s.classList.toggle("active",i===d)});function p(){let s=0;const i=e.length;e.forEach(E=>{const u=E,w=u.dataset.category||"",L=u.dataset.subcategory||"",S=u.dataset.name||"",k=u.dataset.description||"",q=u.dataset.features||"";let y=!0;if(a!=="all"&&w!==a&&(y=!1),a==="modpacks"&&d!=="all"&&L!==d&&(y=!1),f){const h=f.toLowerCase();!S.includes(h)&&!k.includes(h)&&!q.includes(h)&&(y=!1)}u.style.display=y?"":"none",y&&s++}),t&&(t.textContent=s===i?`Showing all ${i} projects`:`Showing ${s} of ${i} projects`),c&&(c.style.display=s===0?"":"none"),g({category:a,modpack:d,q:f})}let v;o?.addEventListener("input",()=>{clearTimeout(v),v=window.setTimeout(()=>{f=o.value,p()},300)}),n.forEach(s=>{s.addEventListener("click",()=>{a=s.dataset.filter||"all",n.forEach(i=>i.classList.remove("active")),s.classList.add("active"),r&&(r.style.display=a==="modpacks"?"":"none"),a!=="modpacks"&&(d="all"),p()})}),l.forEach(s=>{s.addEventListener("click",()=>{d=s.dataset.filter||"all",l.forEach(i=>i.classList.remove("active")),s.classList.add("active"),p()})}),p()}function C(){const o=document.querySelectorAll(".news-filter-btn"),n=document.querySelectorAll(".news-card"),l=document.getElementById("featured-post"),r=m("filter")||"all";o.forEach(t=>{const c=t.dataset.filter||"all";t.classList.toggle("active",c===r)});function e(t){if(n.forEach(c=>{const a=c,d=a.dataset.category||"";a.style.display=t==="all"||d===t?"":"none"}),l){const c=l.querySelector(".news-card");if(c){const a=c.dataset.category||"";l.style.display=t==="all"||a===t?"":"none"}}g({filter:t})}o.forEach(t=>{t.addEventListener("click",()=>{const c=t.dataset.filter||"all";o.forEach(a=>a.classList.remove("active")),t.classList.add("active"),e(c)})}),e(r)}function F(){const o=document.querySelectorAll(".roadmap-filter-btn"),n=document.querySelectorAll(".roadmap-card"),l=m("filter")||"all";o.forEach(e=>{const t=e.dataset.filter||"all";e.classList.toggle("active",t===l)});function r(e){n.forEach(t=>{const c=t,a=c.dataset.status||"",d=c.dataset.priority||"";let f=e==="all"||a===e||e==="high"&&d==="high";c.style.display=f?"":"none"}),g({filter:e})}o.forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.filter||"all";o.forEach(c=>c.classList.remove("active")),e.classList.add("active"),r(t)})}),r(l)}document.querySelector(".project-card")&&B();document.querySelector(".news-filter-btn")&&C();document.querySelector(".roadmap-filter-btn")&&F();
