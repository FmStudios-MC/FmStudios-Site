function h(o){return new URLSearchParams(window.location.search).get(o)||""}function m(o){const a=new URLSearchParams(window.location.search);for(const[t,s]of Object.entries(o))s&&s!=="all"?a.set(t,s):a.delete(t);const e=a.toString(),c=window.location.pathname+(e?"?"+e:"");history.replaceState(null,"",c)}function g(o,a,e){const c=document.querySelectorAll(o),t=h(a)||"all";return c.forEach(s=>{const r=s.dataset.filter||"all";s.classList.toggle("active",r===t),s.setAttribute("aria-pressed",String(r===t))}),c.forEach(s=>{s.addEventListener("click",()=>{const r=s.dataset.filter||"all";c.forEach(l=>{l.classList.remove("active"),l.setAttribute("aria-pressed","false")}),s.classList.add("active"),s.setAttribute("aria-pressed","true"),e(r)})}),t}function A(){const o=document.getElementById("search-input"),a=document.querySelectorAll(".modpack-filter-btn"),e=document.getElementById("modpack-filter"),c=document.querySelectorAll(".project-card"),t=document.getElementById("results-count"),s=document.getElementById("no-results");let r="all",l=h("modpack")||"all",i=h("q")||"";o&&i&&(o.value=i),a.forEach(n=>{const u=n.dataset.filter||"all";n.classList.toggle("active",u===l),n.setAttribute("aria-pressed",String(u===l))});function f(){let n=0;const u=c.length;c.forEach(S=>{const d=S,C=d.dataset.category||"",v=d.dataset.subcategory||"",L=d.dataset.name||"",q=d.dataset.description||"",k=d.dataset.features||"";let p=!0;if(r!=="all"&&C!==r&&(p=!1),r==="modpacks"&&l!=="all"&&v!==l&&(p=!1),i){const y=i.toLowerCase();!L.includes(y)&&!q.includes(y)&&!k.includes(y)&&(p=!1)}p?(d.classList.remove("card-hidden"),d.style.display="",n++):(d.classList.add("card-hidden"),setTimeout(()=>{d.classList.contains("card-hidden")&&(d.style.display="none")},250))}),N(),i&&x(i),t&&(t.textContent=n===u?`Showing all ${u} projects`:`Showing ${n} of ${u} projects`),s&&(s.style.display=n===0?"":"none"),m({category:r,modpack:l,q:i})}let w;o?.addEventListener("input",()=>{clearTimeout(w),w=window.setTimeout(()=>{i=o.value,f()},300)}),r=g(".category-filter-btn","category",n=>{r=n,e&&(e.style.display=r==="modpacks"?"":"none"),r!=="modpacks"&&(l="all"),f()}),e&&(e.style.display=r==="modpacks"?"":"none"),a.forEach(n=>{n.addEventListener("click",()=>{l=n.dataset.filter||"all",a.forEach(u=>{u.classList.remove("active"),u.setAttribute("aria-pressed","false")}),n.classList.add("active"),n.setAttribute("aria-pressed","true"),f()})}),f()}function x(o){const a=o.toLowerCase();document.querySelectorAll(".project-card:not(.card-hidden)").forEach(e=>{const c=e.querySelector(".project-card-title"),t=e.querySelector(".project-card-desc");[c,t].forEach(s=>{s&&E(s,a)})})}function E(o,a){if(o.nodeType===Node.TEXT_NODE){const e=o.textContent||"",t=e.toLowerCase().indexOf(a);if(t===-1)return;const s=e.slice(0,t),r=e.slice(t,t+a.length),l=e.slice(t+a.length),i=document.createDocumentFragment();s&&i.appendChild(document.createTextNode(s));const f=document.createElement("mark");f.className="search-highlight",f.textContent=r,i.appendChild(f),l&&i.appendChild(document.createTextNode(l)),o.parentNode?.replaceChild(i,o)}else Array.from(o.childNodes).forEach(e=>{e.classList?.contains("search-highlight")||E(e,a)})}function N(){document.querySelectorAll(".search-highlight").forEach(o=>{const a=o.parentNode;a&&(a.replaceChild(document.createTextNode(o.textContent||""),o),a.normalize())})}function T(){const o=document.querySelectorAll(".news-card"),a=document.getElementById("featured-post");g(".news-filter-btn","filter",c=>{if(o.forEach(t=>{const s=t,r=s.dataset.category||"";s.style.display=c==="all"||r===c?"":"none"}),a){const t=a.querySelector(".news-card");if(t){const s=t.dataset.category||"";a.style.display=c==="all"||s===c?"":"none"}}m({filter:c})});const e=h("filter")||"all";if(e!=="all"&&(o.forEach(c=>{const t=c,s=t.dataset.category||"";t.style.display=e==="all"||s===e?"":"none"}),a)){const c=a.querySelector(".news-card");if(c){const t=c.dataset.category||"";a.style.display=e==="all"||t===e?"":"none"}}}function j(){const o=document.querySelectorAll(".roadmap-card");g(".roadmap-filter-btn","filter",e=>{o.forEach(c=>{const t=c,s=t.dataset.status||"",r=t.dataset.priority||"";let l=e==="all"||s===e||e==="high"&&r==="high";t.style.display=l?"":"none"}),m({filter:e})});const a=h("filter")||"all";a!=="all"&&o.forEach(e=>{const c=e,t=c.dataset.status||"",s=c.dataset.priority||"";let r=a==="all"||t===a||a==="high"&&s==="high";c.style.display=r?"":"none"})}document.querySelector(".project-card")&&A();document.querySelector(".news-filter-btn")&&T();document.querySelector(".roadmap-filter-btn")&&j();
